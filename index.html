<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7 Years</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        /* Splash Screen */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: splashFadeOut 1s ease 3s forwards;
        }

        .splash-content {
            text-align: center;
            animation: splashZoom 2s ease forwards;
        }

        .splash-image {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            object-fit: cover;
            object-position: center;
            border: 5px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.5), 0 0 100px rgba(255, 217, 61, 0.4);
            margin-bottom: 30px;
            animation: splashGlow 2s ease infinite;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }

        .splash-text {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            margin-top: 20px;
        }

        @keyframes splashZoom {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }
            50% {
                transform: scale(1.1);
                opacity: 1;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes splashGlow {
            0%, 100% {
                box-shadow: 0 0 50px rgba(255, 255, 255, 0.5), 0 0 100px rgba(255, 217, 61, 0.4);
            }
            50% {
                box-shadow: 0 0 80px rgba(255, 255, 255, 0.8), 0 0 150px rgba(255, 217, 61, 0.6);
            }
        }

        @keyframes splashFadeOut {
            0% {
                opacity: 1;
                visibility: visible;
            }
            100% {
                opacity: 0;
                visibility: hidden;
            }
        }

        /* Scene Container */
        .scene {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        /* Opening Scene - Fade in text */
        .opening {
            background: radial-gradient(circle at center, #1a1a2e 0%, #000 100%);
        }

        .opening-text {
            text-align: center;
            animation: fadeInScale 2s ease forwards;
            opacity: 0;
        }

        .opening-text h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .opening-text p {
            font-size: clamp(1.2rem, 3vw, 2rem);
            opacity: 0.8;
            animation: fadeIn 2s ease 1s forwards;
            opacity: 0;
        }

        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            to { opacity: 0.8; }
        }

        /* Memory Bubbles Scene */
        .memory-bubbles {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            position: relative;
        }

        .bubble-container {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.5s ease;
            animation: float 6s ease-in-out infinite;
        }

        .bubble:hover {
            transform: scale(1.2);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 50px rgba(102, 126, 234, 0.5);
        }

        .bubble-year {
            font-size: 2rem;
            font-weight: 700;
            color: #ffd93d;
            margin-bottom: 10px;
        }

        .bubble-text {
            font-size: 0.9rem;
            opacity: 0.9;
            line-height: 1.6;
        }

        /* Specific bubble positions and animations */
        .bubble:nth-child(1) {
            width: 200px;
            height: 200px;
            left: 10%;
            top: 15%;
            animation-delay: 0s;
        }

        .bubble:nth-child(2) {
            width: 220px;
            height: 220px;
            right: 12%;
            top: 12%;
            animation-delay: 0.5s;
        }

        .bubble:nth-child(3) {
            width: 180px;
            height: 180px;
            left: 8%;
            bottom: 20%;
            animation-delay: 1s;
        }

        .bubble:nth-child(4) {
            width: 210px;
            height: 210px;
            right: 15%;
            bottom: 25%;
            animation-delay: 1.5s;
        }

        .bubble:nth-child(5) {
            width: 190px;
            height: 190px;
            left: 50%;
            top: 45%;
            transform: translate(-50%, -50%);
            animation-delay: 0.7s;
        }

        .bubble:nth-child(6) {
            width: 195px;
            height: 195px;
            left: 30%;
            top: 55%;
            animation-delay: 1.2s;
        }

        .bubble:nth-child(7) {
            width: 185px;
            height: 185px;
            right: 30%;
            top: 60%;
            animation-delay: 0.3s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) translateX(0px);
            }
            33% {
                transform: translateY(-20px) translateX(15px);
            }
            66% {
                transform: translateY(10px) translateX(-15px);
            }
        }

        /* Bubble Modal - Tree Structure */
        .bubble-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 9999;
            overflow-y: auto;
            animation: modalFadeIn 0.4s ease;
        }

        .bubble-modal.active {
            display: block;
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .modal-wrapper {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px 0;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 30px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            position: relative;
            animation: modalSlideIn 0.5s ease;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            margin: auto;
            max-height: none;
        }

        @keyframes modalSlideIn {
            from {
                transform: scale(0.8) translateY(-50px);
                opacity: 0;
            }
            to {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            color: #fff;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-year {
            font-size: 3rem;
            font-weight: 700;
            text-align: center;
            color: #ffd93d;
            margin-bottom: 30px;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .tree-structure {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .tree-node {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .tree-node:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .tree-node-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tree-node-icon {
            font-size: 1.8rem;
        }

        .tree-node-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .tree-node.expanded .tree-node-content {
            max-height: 500px;
            margin-top: 15px;
        }

        .puzzle-question {
            font-size: 1.1rem;
            color: #ffd93d;
            margin: 15px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            border-left: 4px solid #ffd93d;
        }

        .puzzle-answer {
            display: none;
            margin-top: 10px;
            padding: 15px;
            background: rgba(78, 205, 196, 0.2);
            border-radius: 10px;
            border-left: 4px solid #4ecdc4;
            color: #fff;
        }

        .puzzle-answer.revealed {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .answer-input {
            width: 100%;
            padding: 12px 15px;
            border-radius: 10px;
            border: 2px solid rgba(255, 217, 61, 0.3);
            background: rgba(0, 0, 0, 0.3);
            color: #fff;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            margin-top: 10px;
            transition: all 0.3s ease;
            resize: vertical;
            min-height: 80px;
        }

        .answer-input:focus {
            outline: none;
            border-color: #ffd93d;
            background: rgba(0, 0, 0, 0.4);
            box-shadow: 0 0 15px rgba(255, 217, 61, 0.3);
        }

        .answer-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .reveal-btn {
            background: linear-gradient(135deg, #ffd93d, #ff6b6b);
            color: #fff;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .reveal-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 217, 61, 0.5);
        }

        .submit-answers-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
            border: none;
            padding: 15px 35px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin-top: 30px;
            width: 100%;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .submit-answers-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
        }

        .submit-answers-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .submission-status {
            text-align: center;
            margin-top: 15px;
            padding: 12px;
            border-radius: 10px;
            font-weight: 600;
            display: none;
        }

        .submission-status.success {
            display: block;
            background: rgba(78, 205, 196, 0.2);
            color: #4ecdc4;
            border: 2px solid #4ecdc4;
        }

        .submission-status.error {
            display: block;
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
        }

        .mystery-text {
            font-size: 1rem;
            line-height: 1.8;
            color: #fff;
            opacity: 0.9;
        }

        /* Constellation Scene */
        .constellation {
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
            position: relative;
        }

        .stars-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .constellation-content {
            position: relative;
            z-index: 10;
            text-align: center;
            max-width: 800px;
            padding: 40px;
        }

        .constellation-title {
            font-size: clamp(2rem, 5vw, 4rem);
            font-family: 'Playfair Display', serif;
            margin-bottom: 40px;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% {
                text-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
            }
            50% {
                text-shadow: 0 0 40px rgba(102, 126, 234, 0.8), 0 0 60px rgba(102, 126, 234, 0.6);
            }
        }

        .memory-line {
            font-size: 1.3rem;
            line-height: 2;
            margin: 20px 0;
            opacity: 0;
            transform: translateY(30px);
            animation: slideUpFade 1s ease forwards;
        }

        .memory-line:nth-child(2) { animation-delay: 0.3s; }
        .memory-line:nth-child(3) { animation-delay: 0.6s; }
        .memory-line:nth-child(4) { animation-delay: 0.9s; }
        .memory-line:nth-child(5) { animation-delay: 1.2s; }
        .memory-line:nth-child(6) { animation-delay: 1.5s; }

        @keyframes slideUpFade {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .highlight {
            color: #ffd93d;
            font-weight: 600;
        }

        /* Infinity Symbol Scene */
        .heartbeat {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            position: relative;
            overflow: hidden;
        }

        /* Animated background particles */
        .infinity-bg-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .bg-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            animation: bgFloat 15s linear infinite;
        }

        @keyframes bgFloat {
            0% {
                transform: translateY(100vh) translateX(0) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px) scale(1.5);
                opacity: 0;
            }
        }

        .infinity-container {
            position: relative;
            width: 500px;
            height: 300px;
        }

        .infinity-path {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .infinity-symbol {
            stroke: rgba(255, 255, 255, 0.9);
            stroke-width: 4;
            fill: none;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: drawInfinity 4s ease-in-out infinite;
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.8)) drop-shadow(0 0 40px rgba(102, 126, 234, 0.6));
        }

        @keyframes drawInfinity {
            0%, 100% {
                stroke-dashoffset: 1000;
                stroke: rgba(255, 255, 255, 0.9);
            }
            25% {
                stroke: rgba(255, 217, 61, 0.9);
            }
            50% {
                stroke-dashoffset: 0;
                stroke: rgba(255, 107, 107, 0.9);
            }
            75% {
                stroke: rgba(78, 205, 196, 0.9);
            }
        }

        .floating-particles-infinity {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .particle-dot {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffd93d, #ff6b6b);
            box-shadow: 0 0 20px rgba(255, 217, 61, 1), 0 0 40px rgba(255, 107, 107, 0.6);
        }

        .particle-dot:nth-child(1) {
            left: 25%;
            top: 50%;
            animation: orbit1 5s ease-in-out infinite;
        }

        .particle-dot:nth-child(2) {
            left: 75%;
            top: 50%;
            animation: orbit2 5s ease-in-out infinite;
        }

        .particle-dot:nth-child(3) {
            left: 50%;
            top: 30%;
            animation: orbit3 5s ease-in-out infinite;
        }

        .particle-dot:nth-child(4) {
            left: 50%;
            top: 70%;
            animation: orbit4 5s ease-in-out infinite;
        }

        .particle-dot:nth-child(5) {
            left: 15%;
            top: 35%;
            animation: orbit5 6s ease-in-out infinite;
        }

        .particle-dot:nth-child(6) {
            left: 85%;
            top: 65%;
            animation: orbit6 6s ease-in-out infinite;
        }

        @keyframes orbit1 {
            0%, 100% { 
                transform: translate(0, 0) scale(1); 
                background: linear-gradient(135deg, #ffd93d, #ff6b6b);
            }
            25% { 
                transform: translate(-40px, -30px) scale(1.8); 
                background: linear-gradient(135deg, #667eea, #764ba2);
            }
            50% { 
                transform: translate(-80px, 0) scale(1); 
                background: linear-gradient(135deg, #4ecdc4, #6bcf7f);
            }
            75% { 
                transform: translate(-40px, 30px) scale(1.8); 
                background: linear-gradient(135deg, #ff6b6b, #ffd93d);
            }
        }

        @keyframes orbit2 {
            0%, 100% { 
                transform: translate(0, 0) scale(1); 
                background: linear-gradient(135deg, #4ecdc4, #6bcf7f);
            }
            25% { 
                transform: translate(40px, 30px) scale(1.8); 
                background: linear-gradient(135deg, #ffd93d, #ff6b6b);
            }
            50% { 
                transform: translate(80px, 0) scale(1); 
                background: linear-gradient(135deg, #667eea, #764ba2);
            }
            75% { 
                transform: translate(40px, -30px) scale(1.8); 
                background: linear-gradient(135deg, #4ecdc4, #6bcf7f);
            }
        }

        @keyframes orbit3 {
            0%, 100% { 
                transform: translate(0, 0) scale(1) rotate(0deg); 
                background: linear-gradient(135deg, #667eea, #764ba2);
            }
            50% { 
                transform: translate(0, -40px) scale(2) rotate(360deg); 
                background: linear-gradient(135deg, #ff6b6b, #ffd93d);
            }
        }

        @keyframes orbit4 {
            0%, 100% { 
                transform: translate(0, 0) scale(1) rotate(0deg); 
                background: linear-gradient(135deg, #ff6b6b, #ffd93d);
            }
            50% { 
                transform: translate(0, 40px) scale(2) rotate(-360deg); 
                background: linear-gradient(135deg, #4ecdc4, #6bcf7f);
            }
        }

        @keyframes orbit5 {
            0%, 100% { 
                transform: translate(0, 0) scale(0.8); 
                opacity: 0.6;
            }
            33% { 
                transform: translate(30px, 40px) scale(1.5); 
                opacity: 1;
            }
            66% { 
                transform: translate(-20px, -30px) scale(1.2); 
                opacity: 0.8;
            }
        }

        @keyframes orbit6 {
            0%, 100% { 
                transform: translate(0, 0) scale(0.8); 
                opacity: 0.6;
            }
            33% { 
                transform: translate(-30px, -40px) scale(1.5); 
                opacity: 1;
            }
            66% { 
                transform: translate(20px, 30px) scale(1.2); 
                opacity: 0.8;
            }
        }

        /* Glowing rings around infinity */
        .glow-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
            animation: pulseRing 3s ease-out infinite;
        }

        .glow-ring:nth-child(1) {
            width: 150px;
            height: 150px;
            animation-delay: 0s;
        }

        .glow-ring:nth-child(2) {
            width: 150px;
            height: 150px;
            animation-delay: 1s;
        }

        .glow-ring:nth-child(3) {
            width: 150px;
            height: 150px;
            animation-delay: 2s;
        }

        @keyframes pulseRing {
            0% {
                transform: translate(-50%, -50%) scale(0.5);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(3);
                opacity: 0;
            }
        }

        .infinity-text-container {
            position: absolute;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            width: 100%;
        }

        .infinity-text {
            font-size: 2rem;
            font-weight: 600;
            text-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
            animation: textGlow 3s ease-in-out infinite;
        }

        @keyframes textGlow {
            0%, 100% {
                text-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
                color: #fff;
            }
            25% {
                text-shadow: 0 0 30px rgba(255, 217, 61, 0.8), 0 0 50px rgba(255, 217, 61, 0.4);
                color: #ffd93d;
            }
            50% {
                text-shadow: 0 0 30px rgba(255, 107, 107, 0.8), 0 0 50px rgba(255, 107, 107, 0.4);
                color: #ff6b6b;
            }
            75% {
                text-shadow: 0 0 30px rgba(78, 205, 196, 0.8), 0 0 50px rgba(78, 205, 196, 0.4);
                color: #4ecdc4;
            }
        }

        .infinity-emoji {
            font-size: 3rem;
            margin-bottom: 10px;
            display: inline-block;
            animation: emojiPulse 2s ease-in-out infinite;
        }

        @keyframes emojiPulse {
            0%, 100% { 
                transform: translateY(0) scale(1) rotate(0deg); 
                filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
            }
            25% {
                transform: translateY(-10px) scale(1.3) rotate(5deg);
                filter: drop-shadow(0 0 20px rgba(255, 217, 61, 0.8));
            }
            50% { 
                transform: translateY(-15px) scale(1.5) rotate(0deg); 
                filter: drop-shadow(0 0 30px rgba(255, 107, 107, 0.8));
            }
            75% {
                transform: translateY(-10px) scale(1.3) rotate(-5deg);
                filter: drop-shadow(0 0 20px rgba(78, 205, 196, 0.8));
            }
        }

        /* Message Reveal Scene */
        .message-reveal {
            background: #0a0a0f;
            perspective: 1000px;
        }

        .message-box {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 60px;
            max-width: 800px;
            transform-style: preserve-3d;
            animation: rotateIn 1.5s ease forwards;
        }

        @keyframes rotateIn {
            from {
                opacity: 0;
                transform: rotateX(-90deg);
            }
            to {
                opacity: 1;
                transform: rotateX(0deg);
            }
        }

        .message-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .message-text {
            font-size: 0.6rem;
            line-height: 1.4;
            text-align: justify;
            margin: 15px 0;
        }

        .signature {
            text-align: right;
            font-size: 2rem;
            font-family: 'Playfair Display', serif;
            margin-top: 50px;
            color: #ffd93d;
        }

        /* Fireworks Scene */
        .fireworks-scene {
            background: #000;
            position: relative;
        }

        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            animation: explode 1.5s ease-out forwards;
        }

        @keyframes explode {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: scale(40);
            }
        }

        .birthday-message {
            position: relative;
            z-index: 100;
            text-align: center;
        }

        .birthday-message h1 {
            font-size: clamp(2.5rem, 8vw, 6rem);
            font-family: 'Playfair Display', serif;
            color: #fff;
            text-shadow: 0 0 40px rgba(255, 217, 61, 0.8), 
                         0 0 80px rgba(102, 126, 234, 0.6),
                         0 4px 20px rgba(0, 0, 0, 0.5);
            animation: scaleUp 2s ease forwards, colorShift 3s ease infinite;
            transform: scale(0);
            line-height: 1.3;
            font-weight: 700;
        }

        @keyframes scaleUp {
            to {
                transform: scale(1);
            }
        }

        @keyframes colorShift {
            0%, 100% {
                color: #fff;
                text-shadow: 0 0 40px rgba(255, 217, 61, 0.8), 
                             0 0 80px rgba(102, 126, 234, 0.6),
                             0 4px 20px rgba(0, 0, 0, 0.5);
            }
            25% {
                color: #ffd93d;
                text-shadow: 0 0 60px rgba(255, 217, 61, 1), 
                             0 0 100px rgba(255, 217, 61, 0.6),
                             0 4px 20px rgba(0, 0, 0, 0.5);
            }
            50% {
                color: #ff6b6b;
                text-shadow: 0 0 60px rgba(255, 107, 107, 1), 
                             0 0 100px rgba(255, 107, 107, 0.6),
                             0 4px 20px rgba(0, 0, 0, 0.5);
            }
            75% {
                color: #4ecdc4;
                text-shadow: 0 0 60px rgba(78, 205, 196, 1), 
                             0 0 100px rgba(78, 205, 196, 0.6),
                             0 4px 20px rgba(0, 0, 0, 0.5);
            }
        }

        .birthday-message p {
            font-size: 1.5rem;
            margin-top: 30px;
            opacity: 0;
            animation: fadeIn 1s ease 1.5s forwards;
        }

        /* Gift Box Scene */
        .gift-box-scene {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            position: relative;
            overflow: hidden;
        }

        .gift-box-container {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 30px;
        }

        .gift-box-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 6vw, 4rem);
            color: #fff;
            text-align: center;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            animation: fadeIn 1s ease forwards;
        }

        .gift-box-wrapper {
            position: relative;
            cursor: pointer;
            animation: floatGift 3s ease-in-out infinite;
        }

        @keyframes floatGift {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-20px);
            }
        }

        .gift-box {
            position: relative;
            width: 200px;
            height: 200px;
            transition: all 0.5s ease;
        }

        .gift-box-wrapper:hover .gift-box {
            transform: scale(1.1);
        }

        .gift-base {
            position: absolute;
            bottom: 0;
            width: 200px;
            height: 150px;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .gift-lid {
            position: absolute;
            top: 0;
            width: 220px;
            height: 50px;
            left: -10px;
            background: linear-gradient(135deg, #ff8e53, #ffd93d);
            border-radius: 10px 10px 0 0;
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transform-origin: bottom;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .gift-bow {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            transition: all 0.8s ease;
        }

        .bow-center {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ffd93d;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            box-shadow: 0 0 20px rgba(255, 217, 61, 0.6);
        }

        .bow-left, .bow-right {
            position: absolute;
            width: 30px;
            height: 40px;
            background: #ffd93d;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
        }

        .bow-left {
            left: -5px;
            clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
        }

        .bow-right {
            right: -5px;
            clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
        }

        .gift-ribbon-v {
            position: absolute;
            width: 30px;
            height: 100%;
            background: linear-gradient(90deg, #ffd93d, #ffed4e);
            left: 50%;
            transform: translateX(-50%);
        }

        .gift-ribbon-h {
            position: absolute;
            width: 100%;
            height: 30px;
            background: linear-gradient(180deg, #ffd93d, #ffed4e);
            top: 60px;
        }

        /* Opened state */
        .gift-box-wrapper.opened .gift-lid {
            transform: rotateX(-120deg) translateY(-30px);
            opacity: 0;
        }

        .gift-box-wrapper.opened .gift-bow {
            transform: translateX(-50%) translateY(-100px) rotate(180deg);
            opacity: 0;
        }

        .gift-box-wrapper.opened .gift-base {
            animation: boxShake 0.5s ease;
        }

        @keyframes boxShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Confetti */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffd93d;
            opacity: 0;
        }

        .confetti.burst {
            animation: confettiBurst 1s ease-out forwards;
        }

        @keyframes confettiBurst {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translate(var(--x), var(--y)) rotate(720deg);
            }
        }

        /* Video Container */
        .video-reveal {
            display: none;
        }

        .video-reveal.active {
            display: block;
        }

        /* Fullscreen Video Modal */
        .video-fullscreen-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.5s ease;
            padding: 20px;
        }

        .video-fullscreen-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }

        .video-modal-content {
            position: relative;
            width: 40%;   
            max-width: 400px;
            animation: videoZoomIn 0.6s ease forwards;
        }

        @keyframes videoZoomIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .video-modal-close {
            position: absolute;
            top: -50px;
            right: 0;
            font-size: 2.5rem;
            color: #fff;
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            z-index: 10;
        }

        .video-modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }

        .video-modal-title {
            text-align: center;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 700;
            color: #fff;
            margin-bottom: 30px;
            font-family: 'Playfair Display', serif;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            animation: titleGlow 2s ease-in-out infinite;
            padding: 0 10px;
        }

        @keyframes titleGlow {
            0%, 100% {
                text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            }
            50% {
                text-shadow: 0 4px 30px rgba(255, 217, 61, 0.6), 0 0 50px rgba(255, 217, 61, 0.3);
            }
        }

        .video-modal-content video {
            width: 100%;
            border-radius: 20px;
            box-shadow: 0 30px 90px rgba(0, 0, 0, 0.8);
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .click-instruction {
            text-align: center;
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-top: 20px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.05);
            }
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            animation: bounce 2s infinite;
            opacity: 0.7;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateY(-20px);
            }
        }

        .scroll-indicator p {
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .arrow {
            font-size: 2rem;
        }

        /* Response Form Scene */
        .response-scene {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            padding: 60px 20px;
        }

        .response-container {
            max-width: 700px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 50px 40px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .response-title {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            text-align: center;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #ffd93d 0%, #ff6b6b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .response-subtitle {
            text-align: center;
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 40px;
            color: #fff;
        }

        .response-form {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-group label {
            font-size: 1.1rem;
            font-weight: 600;
            color: #ffd93d;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            padding: 15px 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ffd93d;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 20px rgba(255, 217, 61, 0.3);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-group select {
            cursor: pointer;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            font-size: 1.3rem;
            font-weight: 600;
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
        }

        .submit-btn:active {
            transform: translateY(-1px);
        }

        .form-status {
            text-align: center;
            font-size: 1.1rem;
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .form-status.success {
            display: block;
            background: rgba(78, 205, 196, 0.2);
            color: #4ecdc4;
            border: 2px solid #4ecdc4;
        }

        .form-status.error {
            display: block;
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Comprehensive Responsive Design */
        @media (max-width: 768px) {
            .splash-image {
                width: 280px;
                height: 280px;
            }

            .splash-text {
                font-size: 2rem;
                padding: 0 20px;
            }

            .opening-text h1 {
                font-size: clamp(2rem, 10vw, 4rem);
            }

            .bubble {
                position: relative !important;
                width: 180px !important;
                height: 180px !important;
                margin: 20px auto !important;
                left: 0 !important;
                right: 0 !important;
                top: auto !important;
                bottom: auto !important;
            }

            .memory-bubbles .bubble-container {
                position: relative;
                display: flex;
                flex-direction: column;
                align-items: center;
                padding: 40px 20px;
            }

            .constellation-content {
                padding: 20px;
            }

            .constellation-title {
                font-size: clamp(1.8rem, 6vw, 3rem);
            }

            .memory-line {
                font-size: 1.1rem;
            }

            .infinity-container {
                width: 350px;
                height: 250px;
            }

            .infinity-text {
                font-size: 1.4rem;
            }

            .infinity-emoji {
                font-size: 2.5rem;
            }

            .infinity-text-container {
                bottom: -80px;
            }

            .modal-content {
                padding: 30px 20px;
                max-width: 95%;
            }

            .modal-year {
                font-size: 2.5rem;
            }

            .tree-node-title {
                font-size: 1.2rem;
            }

            .puzzle-question {
                font-size: 1rem;
            }

            .mystery-text {
                font-size: 0.95rem;
            }

            .modal-close {
                top: 15px;
                right: 15px;
                font-size: 1.5rem;
                width: 35px;
                height: 35px;
            }

            .response-container {
                padding: 30px 20px;
            }

            .response-title {
                font-size: 2rem;
            }

            .response-subtitle {
                font-size: 1rem;
            }

            .form-group label {
                font-size: 1rem;
            }

            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 12px 15px;
                font-size: 0.95rem;
            }

            .submit-btn {
                font-size: 1.1rem;
                padding: 15px 30px;
            }

            .gift-box-title {
                font-size: 1.8rem;
                padding: 0 20px;
            }

            .gift-box {
                width: 150px;
                height: 150px;
            }

            .gift-base {
                width: 150px;
                height: 110px;
            }

            .gift-lid {
                width: 165px;
                height: 40px;
                left: -7.5px;
            }

            .gift-bow {
                width: 45px;
                height: 45px;
                top: -15px;
            }

            .bow-center {
                width: 15px;
                height: 15px;
            }

            .bow-left, .bow-right {
                width: 25px;
                height: 35px;
            }

            .gift-ribbon-v {
                width: 20px;
            }

            .gift-ribbon-h {
                height: 20px;
                top: 45px;
            }

            .click-instruction {
                font-size: 1rem;
            }

            .video-modal-content {
                width: 95%;
                max-width: 95%;
            }

            .video-modal-close {
                top: 10px;
                right: 10px;
                font-size: 1.8rem;
                width: 40px;
                height: 40px;
            }

            .video-modal-title {
                font-size: 1.5rem;
                margin-bottom: 15px;
                margin-top: 50px;
            }

            .video-modal-content video {
                border-radius: 12px;
            }

            .message-box {
                padding: 30px 20px;
                margin: 20px;
            }

            .message-title {
                font-size: 2rem;
            }

            .message-text {
                font-size: 1.1rem;
                line-height: 1.8;
            }

            .signature {
                font-size: 1.5rem;
            }

            .birthday-message h1 {
                font-size: clamp(2rem, 8vw, 4rem);
                padding: 0 20px;
            }

            .birthday-message p {
                font-size: 1.2rem;
                padding: 0 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div class="splash-screen">
        <div class="splash-content">
            <img src="ridhi-image.jpg" alt="Ridhi" class="splash-image">
            <div class="splash-text">✨ Belated Happy Birthday Ridhi! ✨</div>
        </div>
    </div>

    <!-- Scene 1: Opening -->
    <div class="scene opening">
        <div class="opening-text">
            <h1>7 Years</h1>
            <p>A journey worth celebrating</p>
        </div>
        <div class="scroll-indicator">
            <p>Scroll down</p>
            <div class="arrow">↓</div>
        </div>
    </div>

    <!-- Scene 3: Constellation -->
    <div class="scene constellation">
        <canvas class="stars-canvas" id="starsCanvas"></canvas>
        <div class="constellation-content">
            <h2 class="constellation-title">You know what's rare?</h2>
            <p class="memory-line">Finding someone who <span class="highlight">gets your weird</span></p>
            <p class="memory-line">Someone who laughs at your <span class="highlight">worst jokes</span></p>
            <p class="memory-line">Someone who's there at <span class="highlight">3 AM</span></p>
            <p class="memory-line">Not because they have to</p>
            <p class="memory-line">But because they <span class="highlight">want the</span></p>
        </div>
        <div class="scroll-indicator">
            <p>Continue</p>
            <div class="arrow">↓</div>
        </div>
    </div>

    <!-- Scene 4: Infinity Symbol -->
    <div class="scene heartbeat">
        <div class="infinity-bg-particles">
            <div class="bg-particle" style="left: 10%; animation-delay: 0s;"></div>
            <div class="bg-particle" style="left: 20%; animation-delay: 2s;"></div>
            <div class="bg-particle" style="left: 30%; animation-delay: 4s;"></div>
            <div class="bg-particle" style="left: 40%; animation-delay: 1s;"></div>
            <div class="bg-particle" style="left: 50%; animation-delay: 3s;"></div>
            <div class="bg-particle" style="left: 60%; animation-delay: 5s;"></div>
            <div class="bg-particle" style="left: 70%; animation-delay: 1.5s;"></div>
            <div class="bg-particle" style="left: 80%; animation-delay: 3.5s;"></div>
            <div class="bg-particle" style="left: 90%; animation-delay: 2.5s;"></div>
        </div>
        <div class="infinity-container">
            <div class="glow-ring"></div>
            <div class="glow-ring"></div>
            <div class="glow-ring"></div>
            <svg class="infinity-path" viewBox="0 0 500 300">
                <path class="infinity-symbol" d="M 100 150 C 100 100, 150 100, 200 150 C 250 200, 250 200, 300 150 C 350 100, 400 100, 400 150 C 400 200, 350 200, 300 150 C 250 100, 250 100, 200 150 C 150 200, 100 200, 100 150 Z" />
            </svg>
            <div class="floating-particles-infinity">
                <div class="particle-dot"></div>
                <div class="particle-dot"></div>
                <div class="particle-dot"></div>
                <div class="particle-dot"></div>
                <div class="particle-dot"></div>
                <div class="particle-dot"></div>
            </div>
            <div class="infinity-text-container">
                <div class="infinity-emoji">∞</div>
                <div class="infinity-text">Friendship that never ends</div>
            </div>
        </div>
        <div class="scroll-indicator">
            <p>Almost there</p>
            <div class="arrow">↓</div>
        </div>
    </div>

    <!-- Scene 5: Message -->
    <div class="scene message-reveal">
        <div class="message-box">
    <h2 class="message-title">Hey Bakudi,</h2>
        <p class="message-text">
            First things first - I'm really sorry this is late. I know birthdays come once a year, and I should've been on time. But honestly? I wanted to make something that actually meant something, not just rush it. Hope you can forgive this perpetually late friend of yours.
        </p>
        <p class="message-text">
            You know what amazes me about you? Your ability to stay real in a world full of fake people. You've never pretended to be someone you're not, and that's rare. Your laughter is contagious, your honesty is refreshing, and your loyalty is unmatched. You've stuck around through my worst phases, celebrated my wins, and never judged me even when I probably deserved it.
        </p>
        <p class="message-text">
            Seven years ago, neither of us knew we'd end up here - as each other's constant. Life threw lockdowns, distance, changes, and chaos at us, but somehow we're still standing strong. And I want to promise you something: <span class="highlight">no matter what obstacles come our way - distance, time, life getting crazy - we'll figure it out together.</span>
        </p>
        <p class="message-text">
            Some friendships fade, but ours? This is for life. You're stuck with me, <span class="highlight">Bakudi.</span> Through every weird phase, every random call, every stupid decision, every victory - I'm here. Always have been, always will be.
        </p>
        <p class="message-text">
            So here's to us - to 7 years of being each other's <span class="highlight">permanent feviquick</span>, and to a lifetime more of this beautiful chaos we call friendship.
        </p>
        <div class="signature">- GP</div>
        </div>
        <div class="scroll-indicator">
            <p>One more...</p>
            <div class="arrow">↓</div>
        </div>
    </div>

    <!-- Scene 2: Memory Bubbles -->
    <div class="scene memory-bubbles">
        <div class="bubble-container">
            <div class="bubble" data-year="2019">
                <div class="bubble-year">2019</div>
                <div class="bubble-text">Where it all started</div>
            </div>
            <div class="bubble" data-year="2020">
                <div class="bubble-year">2020</div>
                <div class="bubble-text">Through lockdowns together</div>
            </div>
            <div class="bubble" data-year="2021">
                <div class="bubble-year">2021</div>
                <div class="bubble-text">Laughs that hurt</div>
            </div>
            <div class="bubble" data-year="2022">
                <div class="bubble-year">2022</div>
                <div class="bubble-text">Best friend upgrade</div>
            </div>
            <div class="bubble" data-year="2023">
                <div class="bubble-year">2023</div>
                <div class="bubble-text">Peak chaos</div>
            </div>
            <div class="bubble" data-year="2024">
                <div class="bubble-year">2024</div>
                <div class="bubble-text">Real ones</div>
            </div>
            <div class="bubble" data-year="2025">
                <div class="bubble-year">2025</div>
                <div class="bubble-text">Last year's madness</div>
            </div>
        </div>
        <div class="scroll-indicator">
            <p>Keep scrolling</p>
            <div class="arrow">↓</div>
        </div>
    </div>

    <!-- Bubble Modal -->
    <div class="bubble-modal" id="bubbleModal">
        <div class="modal-wrapper">
            <div class="modal-content">
                <div class="modal-close" id="modalClose">×</div>
                <h2 class="modal-year" id="modalYear">2019</h2>
                <div class="tree-structure" id="treeStructure"></div>
            </div>
        </div>
    </div>

    <!-- Scene 6: Birthday Finale -->
    <div class="scene fireworks-scene">
        <div class="birthday-message">
            <h1>Belated Happy Birthday! 🎂✨</h1>
            <p>Hope this year brings you everything amazing</p>
        </div>
        <div class="scroll-indicator">
            <p>One last surprise...</p>
            <div class="arrow">↓</div>
        </div>
    </div>

    <!-- Scene 7: Gift Box Video Reveal -->
    <div class="scene gift-box-scene">
        <div class="gift-box-container">
            <h2 class="gift-box-title">I made something special for you... 🎁</h2>
            
            <div class="gift-box-wrapper" id="giftBox">
                <div class="gift-box">
                    <div class="gift-lid">
                        <div class="gift-bow">
                            <div class="bow-left"></div>
                            <div class="bow-center"></div>
                            <div class="bow-right"></div>
                        </div>
                    </div>
                    <div class="gift-base">
                        <div class="gift-ribbon-v"></div>
                        <div class="gift-ribbon-h"></div>
                    </div>
                </div>
            </div>
            
            <p class="click-instruction" id="clickInstruction">Click the gift to open! 🎁</p>
        </div>
    </div>

    <!-- Fullscreen Video Modal -->
    <div class="video-fullscreen-modal" id="videoModal">
        <div class="video-modal-content">
            <div class="video-modal-close" id="videoModalClose">×</div>
            <h2 class="video-modal-title">For You, Ridhi 💖</h2>
            <video id="birthdayVideo" controls muted playsinline preload="auto">
                <source src="ridhi_video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>

    <script>
        // Stars constellation animation
        const canvas = document.getElementById('starsCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const stars = [];
        const numStars = 200;

        for (let i = 0; i < numStars; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                radius: Math.random() * 2,
                vx: (Math.random() - 0.5) * 0.5,
                vy: (Math.random() - 0.5) * 0.5
            });
        }

        function drawStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'white';
            
            stars.forEach(star => {
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fill();
                
                star.x += star.vx;
                star.y += star.vy;
                
                if (star.x < 0 || star.x > canvas.width) star.vx *= -1;
                if (star.y < 0 || star.y > canvas.height) star.vy *= -1;
            });
            
            // Draw connections
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
            for (let i = 0; i < stars.length; i++) {
                for (let j = i + 1; j < stars.length; j++) {
                    const dx = stars[i].x - stars[j].x;
                    const dy = stars[i].y - stars[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 100) {
                        ctx.beginPath();
                        ctx.moveTo(stars[i].x, stars[i].y);
                        ctx.lineTo(stars[j].x, stars[j].y);
                        ctx.stroke();
                    }
                }
            }
            
            requestAnimationFrame(drawStars);
        }

        drawStars();

        // Fireworks effect
        function createFirework() {
            const colors = ['#667eea', '#764ba2', '#ffd93d', '#ff6b6b', '#4ecdc4'];
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight * 0.7;
            
            for (let i = 0; i < 30; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = x + 'px';
                firework.style.top = y + 'px';
                firework.style.background = colors[Math.floor(Math.random() * colors.length)];
                firework.style.animationDelay = Math.random() * 0.5 + 's';
                document.querySelector('.fireworks-scene').appendChild(firework);
                
                setTimeout(() => firework.remove(), 2000);
            }
        }

        // Check when fireworks scene is in view
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.target.classList.contains('fireworks-scene')) {
                    // Start fireworks
                    setInterval(createFirework, 800);
                }
            });
        }, { threshold: 0.5 });

        observer.observe(document.querySelector('.fireworks-scene'));

        // Resize canvas
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Smooth reveal on scroll
        const observerOptions = {
            threshold: 0.3,
            rootMargin: '0px'
        };

        const sceneObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.scene').forEach(scene => {
            sceneObserver.observe(scene);
        });

        // Bubble Modal Data - Mysterious Questions & Puzzles for each year
        const bubbleData = {
            '2019': [
                {
                    icon: '🎒',
                    title: 'First Impressions',
                    question: 'What was your honest first thought when we met in 11th standard?',
                    answer: '[Your first impression]'
                },
                {
                    icon: '🧩',
                    title: 'Memory Puzzle',
                    question: 'Riddle: I happened without planning, brought us together by chance. What am I?',
                    answer: '[The first unexpected moment/coincidence that started your friendship]'
                },
                {
                    icon: '❓',
                    title: 'Secret Question',
                    question: 'If 2019 had a theme song for our friendship, what would it be and why?',
                    answer: '[Add your answer here]'
                }
            ],
            '2020': [
                {
                    icon: '🔮',
                    title: 'Lockdown Chronicles',
                    question: 'What\'s the weirdest thing we talked about during those endless video calls?',
                    answer: '[Add your weird lockdown memory]'
                },
                {
                    icon: '😂',
                    title: 'The Funny File',
                    question: 'What\'s the most random/stupid conversation we had during board exam stress?',
                    answer: '[Your hilarious stress-relief memory]'
                },
                {
                    icon: '🔮',
                    title: 'Pandemic Pivot',
                    question: 'How did talking during lockdown feel different from talking in school?',
                    answer: '[The shift in dynamics]'
                }
            ],
            '2021': [
                {
                    icon: '🔮',
                    title: 'Best Friend Unlocked',
                    question: 'What exact moment made you think "Yeah, this is my best friend"?',
                    answer: '[The moment you knew]'
                    
                },
                {
                    icon: '🧩',
                    title: 'Code Breaker',
                    question: 'Riddle: I\'m something you said that became our inside joke. Three words, infinite laughs. What am I?',
                    answer: '[Your inside joke]'
                },
                {
                    icon: '❓',
                    title: 'Hidden Truth',
                    question: 'If you could go back to one day in 2021 with me, which would it be?',
                    answer: '[Your favorite day from 2021]'
                }
            ],
            '2022': [
                {
                    icon: '🔮',
                    title: 'The Laugh Track',
                    question: 'What\'s the most embarrassing moment we shared that still makes you laugh?',
                    answer: '[Your embarrassing but funny memory]'
                    
                },
                {
                    icon: '🧩',
                    title: 'Heart Puzzle',
                    question: 'Riddle: Without me saying it, how did you know when I needed you most?',
                    answer: '[How she understood you]'
                },
                {
                    icon: '❓',
                    title: 'The Question',
                    question: 'What\'s something you admire about me that I don\'t know about?',
                    answer: '[What you admire about Ridhi]'
                }
            ],
            '2023': [
                {
                    icon: '🔮',
                    title: 'Chaos Theory',
                    question: 'What\'s the most chaotic plan we made that actually somehow worked or not?',
                    answer: '[Your chaotic success story]'
                },
                {
                    icon: '💌',
                    title: 'Unspoken Bond',
                    question: 'What\'s something we don\'t say often but both of us just know?',
                    answer: '[The unspoken truth]'
                },
                {
                    icon: '❓',
                    title: 'Deep Dive',
                    question: 'What conversation from 2023 changed how you saw things?',
                    answer: '[Meaningful conversation memory]'
                }
            ],
            '2024': [
                {
                    icon: '🔮',
                    title: 'Real Recognize Real',
                    question: 'What\'s the realest thing I\'ve ever said to you?',
                    answer: '[Your honest moment]'
                },
                {
                    icon: '🧩',
                    title: 'Trust Fall',
                    question: 'Riddle: You trusted me with something heavy. I held it without judgment. What is this called?',
                    answer: '[True friendship moment]'
                },
                {
                    icon: '❓',
                    title: 'Mirror Question',
                    question: 'How have I seen you grow this year that you might not see yourself?',
                    answer: '[How you\'ve seen her grow]'
                }
            ],
            '2025': [
                {
                    icon: '🔮',
                    title: 'Recent Madness',
                    question: 'What\'s the last thing we did together that you\'ll remember forever?',
                    answer: '[Recent unforgettable memory]'
                },
                {
                    icon: '🧩',
                    title: 'Future Puzzle',
                    question: 'Riddle: We\'ve been friends for 7 years. What\'s the one thing that will never change about us?',
                    answer: '[The constant in your friendship]'
                },
                {
                    icon: '❓',
                    title: 'The Promise',
                    question: 'What do you promise we\'ll still be doing together 7 years from now?',
                    answer: '[Your future promise]'
                }
            ]
        };

        // Bubble Click Handler
        document.querySelectorAll('.bubble').forEach(bubble => {
            bubble.addEventListener('click', (e) => {
                e.stopPropagation();
                const year = bubble.getAttribute('data-year');
                openBubbleModal(year);
            });
        });

        function openBubbleModal(year) {
            const modal = document.getElementById('bubbleModal');
            const modalYear = document.getElementById('modalYear');
            const treeStructure = document.getElementById('treeStructure');
            
            modalYear.textContent = year;
            treeStructure.innerHTML = '';
            
            const yearData = bubbleData[year] || [];
            
            yearData.forEach((node, index) => {
                const nodeDiv = document.createElement('div');
                nodeDiv.className = 'tree-node';
                nodeDiv.innerHTML = `
                    <div class="tree-node-title">
                        <span class="tree-node-icon">${node.icon}</span>
                        <span>${node.title}</span>
                    </div>
                    <div class="tree-node-content">
                        <div class="puzzle-question">${node.question}</div>
                        <textarea class="answer-input" data-year="${year}" data-question="${node.title}" placeholder="Write your answer here, Ridhi... ✍️"></textarea>
                    </div>
                `;
                
                nodeDiv.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('answer-input')) {
                        this.classList.toggle('expanded');
                    }
                });
                
                treeStructure.appendChild(nodeDiv);
            });
            
            // Add submit button at the end
            const submitSection = document.createElement('div');
            submitSection.innerHTML = `
                <button class="submit-answers-btn" onclick="submitAnswers('${year}')">
                    Send My Answers to GP 💌
                </button>
                <div class="submission-status" id="submissionStatus"></div>
            `;
            treeStructure.appendChild(submitSection);
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        async function submitAnswers(year) {
            const inputs = document.querySelectorAll('.answer-input');
            const statusDiv = document.getElementById('submissionStatus');
            const submitBtn = document.querySelector('.submit-answers-btn');
            
            // Collect all answers
            const answers = [];
            inputs.forEach(input => {
                if (input.value.trim()) {
                    answers.push({
                        year: input.dataset.year,
                        question: input.dataset.question,
                        answer: input.value.trim()
                    });
                }
            });
            
            if (answers.length === 0) {
                statusDiv.className = 'submission-status error';
                statusDiv.textContent = 'Please write at least one answer before submitting! ✍️';
                return;
            }
            
            // Disable button
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending... ✈️';
            statusDiv.style.display = 'none';
            
            try {
                // Prepare form data
                const formData = new FormData();
                formData.append('year', year);
                formData.append('name', 'Ridhi');
                formData.append('answers', JSON.stringify(answers, null, 2));
                
                const response = await fetch('https://formspree.io/f/mvzzarze', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    statusDiv.className = 'submission-status success';
                    statusDiv.textContent = '✨ Answers sent successfully! GP will be so happy! 💖';
                    
                    // Clear all inputs
                    inputs.forEach(input => input.value = '');
                    
                    // Auto close after 2 seconds
                    setTimeout(() => {
                        closeBubbleModal();
                    }, 2000);
                } else {
                    throw new Error('Submission failed');
                }
            } catch (error) {
                statusDiv.className = 'submission-status error';
                statusDiv.textContent = '❌ Something went wrong. Please try again!';
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Send My Answers to GP 💌';
            }
        }

        // Close Modal
        document.getElementById('modalClose').addEventListener('click', closeBubbleModal);
        document.getElementById('bubbleModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeBubbleModal();
            }
        });

        function closeBubbleModal() {
            const modal = document.getElementById('bubbleModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Make submitAnswers global
        window.submitAnswers = submitAnswers;

        // Gift Box Animation
        const giftBox = document.getElementById('giftBox');
        const videoModal = document.getElementById('videoModal');
        const videoModalClose = document.getElementById('videoModalClose');
        const clickInstruction = document.getElementById('clickInstruction');
        const birthdayVideo = document.getElementById('birthdayVideo');
        
        let giftOpened = false;

        giftBox.addEventListener('click', function() {
            if (!giftOpened) {
                giftOpened = true;
                
                // Add opened class
                this.classList.add('opened');
                
                // Hide instruction
                clickInstruction.style.opacity = '0';
                
                // Create confetti burst
                createConfetti();
                
                // Show fullscreen video after animation
                setTimeout(() => {
                    openVideoModal();
                }, 1000);
            }
        });

        function openVideoModal() {
            videoModal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Force video reload and play
            birthdayVideo.muted = true;
            birthdayVideo.load();
            
            setTimeout(() => {
                birthdayVideo.play().then(() => {
                    console.log('Video playing successfully');
                }).catch(e => {
                    console.error('Video error:', e);
                    // Unmute after initial play
                    setTimeout(() => {
                        birthdayVideo.muted = false;
                    }, 500);
                });
            }, 300);
        }

        function closeVideoModal() {
            videoModal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // Pause and reset video
            birthdayVideo.pause();
            birthdayVideo.currentTime = 0;
        }

        // Close video modal handlers
        videoModalClose.addEventListener('click', closeVideoModal);
        
        videoModal.addEventListener('click', function(e) {
            // Close if clicking outside the video content
            if (e.target === this) {
                closeVideoModal();
            }
        });

        // Close on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && videoModal.classList.contains('active')) {
                closeVideoModal();
            }
        });

        function createConfetti() {
            const colors = ['#ffd93d', '#ff6b6b', '#4ecdc4', '#667eea', '#f093fb'];
            const container = document.querySelector('.gift-box-scene');
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = '50%';
                confetti.style.top = '40%';
                
                const angle = (Math.random() * 360) * Math.PI / 180;
                const velocity = 100 + Math.random() * 200;
                const x = Math.cos(angle) * velocity;
                const y = Math.sin(angle) * velocity;
                
                confetti.style.setProperty('--x', x + 'px');
                confetti.style.setProperty('--y', y + 'px');
                
                container.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.classList.add('burst');
                }, 10);
                
                setTimeout(() => {
                    confetti.remove();
                }, 1100);
            }
        }
    </script>
</body>
</html>
